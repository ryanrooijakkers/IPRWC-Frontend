<div class="container">
  <div class="row">
    <div class="col s12">
      <h2>Register</h2>
    </div>
  </div>

  <div class="row">
    <form class="card" #formGroup="ngForm" (ngSubmit)="onSubmit()">
      <div class="input-field col s12">
        <input id="name" type="text" name="name" ngModel required #name="ngModel">
        <label for="name">Name</label>
        <div *ngIf="name.invalid && name.touched">
          <span class="helper-text" *ngIf="name.errors.required">Name is required</span>
        </div>
      </div>
      <div class="input-field col s12">
        <input id="email" type="email" name="email" ngModel required email #email="ngModel">
        <label for="email">Email</label>
        <div *ngIf="email.invalid && email.touched">
          <span class="helper-text" *ngIf="email.errors.email">This is not a valid email</span>
          <span class="helper-text" *ngIf="email.errors.required">Email is required</span>
        </div>
      </div>
      <div class="input-field col s12">
        <input id="password" type="password" name="password" ngModel required #password="ngModel">
        <label for="password">Password</label>
        <div *ngIf="password.invalid && password.touched">
          <span class="helper-text" *ngIf="password.errors.required">Password is required</span>
        </div>
      </div>
      <div class="input-field col s12">
        <input
          id="passwordRepeat"
          type="password"
          name="passwordRepeat"
          ngModel required
          #passwordRepeat="ngModel">
        <label for="passwordRepeat">Repeat Password</label>
        <div *ngIf="passwordRepeat.invalid && passwordRepeat.touched">
          <span class="helper-text" *ngIf="passwordRepeat.errors.required">Repeat the password</span>
        </div>
        <div *ngIf="passwordRepeat.touched">
          <span class="helper-text" *ngIf="this.password.value !== this.passwordRepeat.value">
            Password does not match the first password
          </span>
        </div>
      </div>
      <button
        class="waves-effect waves-light btn"
        type="submit"
        [disabled]="formGroup.invalid || this.password.value !== this.passwordRepeat.value">Login</button>
    </form>
  </div>
</div>
